"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1213],{1213:(Z,c,n)=>{n.r(c),n.d(c,{LoginPageModule:()=>P});var d=n(6895),u=n(433),s=n(5035),g=n(1407),p=n(655),h=n(27),t=n(8256),v=n(5036),m=n(1188);let f=(()=>{class o{constructor(e){this.toastController=e}presentToast(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({message:e,duration:1500,position:"bottom"})).present()})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(s.yF))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var T=n(8484);const y=[{path:"",component:(()=>{class o{constructor(e,a,l,r){this.authService=e,this.storageService=a,this.toastService=l,this.router=r,this.postData={phone:"",password:""}}ngOnInit(){}validateInputs(){const e=this.postData.phone.trim(),a=this.postData.password.trim();return this.postData.phone&&this.postData.password&&e.length>=11&&a.length>0}auth(){return(0,p.mG)(this,void 0,void 0,function*(){if(this.validateInputs())try{const e=yield this.authService.login(this.postData).toPromise();console.log("value="+JSON.stringify(e)),e?(yield this.storageService.store(h.l.AUTH,e),console.log(e),this.router.navigate(["home"])):this.toastService.presentToast("\u041d\u0435 \u0442\u043e")}catch(e){this.toastService.presentToast("\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}else this.toastService.presentToast("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.e),t.Y36(m.V),t.Y36(f),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:22,vars:2,consts:[["color","tertiary"],[1,"center"],["position","stacked"],["type","text","name","phone",3,"ngModel","ngModelChange"],["type","password","name","password",3,"ngModel","ngModelChange"],["href","https://s-k56.ru/feedback"],["expand","block","shape","round","color","tertiary",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t._uU(3,"\u0412\u0445\u043e\u0434"),t.qZA()()(),t.TgZ(4,"ion-content")(5,"div",1),t._UZ(6,"app-logo"),t.qZA(),t.TgZ(7,"form")(8,"ion-list")(9,"ion-item")(10,"ion-label",2),t._uU(11,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),t.qZA(),t.TgZ(12,"ion-input",3),t.NdJ("ngModelChange",function(r){return a.postData.phone=r}),t.qZA()(),t.TgZ(13,"ion-item")(14,"ion-label",2),t._uU(15,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t.TgZ(16,"ion-input",4),t.NdJ("ngModelChange",function(r){return a.postData.password=r}),t.qZA()(),t.TgZ(17,"ion-item")(18,"a",5),t._uU(19,"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c"),t.qZA()(),t.TgZ(20,"ion-button",6),t.NdJ("click",function(){return a.auth()}),t._uU(21,"\u0412\u043e\u0439\u0442\u0438"),t.qZA()()()()),2&e&&(t.xp6(12),t.Q6J("ngModel",a.postData.phone),t.xp6(4),t.Q6J("ngModel",a.postData.password))},dependencies:[u._Y,u.JJ,u.JL,u.On,u.F,s.YG,s.W2,s.Gu,s.pK,s.Ie,s.Q$,s.q_,s.wd,s.sr,s.j9,T.R]}),o})()}];let L=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(y),g.Bz]}),o})();var M=n(5642);let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,u.u5,s.Pc,L,M.K]}),o})()}}]);